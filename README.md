# Проект

Небольшой ЯП. Виртуальная машина стековая.

Цели:
- (+) Лексический анализатор
- (+) Виртуальная машина
- (+) if-else/while statements
- (+) Логические операторы
- (+) Математичнские операторы
- Функции (а вместе с ним второй стек для VM)
- export keyword
- Унарный '-'
- Массивы

# Спецификация языка
Язык немного похож на B. Говоря простым языком, программа - это инструкция.

## Инструкцией может быть:
- { инструкция; инструкция; ... }
- while (условие) инструкция
- if (условие) инструкция
- return;
- Выражение;
- glob идентификатор, идентификатор, ...; (объявление глобальных переменных)

## Выражением может быть:
- Математическое выражение
- Логическое выражение
- Присваивание (выражение = выражение)
- Число
- Идентификатор (в стек записывается адрей переменной, а не ее значение)
- -Выражение
- #Выражение (разыменовать указатель)
- Выражение(выражение, выражение, ...) (вызов функции)
- Строковая константа

## Список функций виртуальной машины:
print_int(x) - вывести целое число x в консоль.
print_str(x) - вывести строку x в консоль (x - указатель на первый символ, строка нуль-терминированная).
println_int(x) - вывести целое число с переносом строки.
println_str(x) - вывести строку с переносом строки.
read_int() - считать число с клавиатуры.

Пример программы:
```
{
	glob a, b, tmp;

    print_str("Enter A and B\n> ");
	a = read_int();
	b = read_int();

	while (#b) {
		a = #a % #b;

		tmp = #a;
		a = #b;
		b = #tmp;
	}

	println_int(#a);
	return;
}
```

Да, тип данных всего один - целое 32-х битное число. В дальнейшем я планировал добавить функции (и второй стек для локальных переменных). Это позволит реализовывать рекурсивные алгоритмы. Также следует добавить массивы и динамическое выделение памяти.

---------------------------------------------------
1. Компиляторы: принципы, технологии и инструментарий
   https://www.google.ru/books/edition/Компиляторы_Принципы/7EES26vGz38C?hl=ru&gbpv=1&printsec=frontcover
